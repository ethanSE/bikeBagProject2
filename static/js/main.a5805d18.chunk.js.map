{"version":3,"sources":["styles/Home.module.css","styles/StyleSelection.module.css","styles/ImageUpload.module.css","styles/ScaleInput.module.css","styles/ShapeInput.module.css","styles/CustomSpec.module.css","styles/Header.module.css","customHooks/useUIStateManager.js","modeContext.js","customSpecContext.js","userContext.js","components/Header.jsx","components/Home.jsx","assets/images/Toptube.js","assets/images/Full.js","assets/images/Front.js","components/StyleSelection.jsx","components/ImageUpload.jsx","actions.js","customHooks/useWindowWidth.js","components/ScaleInput.jsx","components/ShapeInput.jsx","components/CustomSpecification.jsx","components/Account.js","aws-exports.js","components/App.js","index.js"],"names":["module","exports","initialCustomSpecUIState","image","scale","shape","download","customSpecUIReducer","state","action","Error","ModeContext","createContext","CustomSpecContext","UserContext","Header","setActiveMainComponent","useContext","className","styles","header","headerContent","headerTitle","links","onClick","SignInOutComponent","user","Auth","federatedSignIn","Home","home","iconDescContainer","bigScreenReverseRow","icon","fontSize","color","text","row","SvgToptube","props","width","height","viewBox","d","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x","y","transform","ry","opacity","SvgFull","SvgFront","StyleSelection","customSpecState","setCustomSpecState","setActiveCustomSpecPhase","handleClick","style","cssStyle","styleContainer","styleItemActive","styleItem","bagIcon","Front","Full","ImageUpload","customSpecUIState","minimized","ImageUploadActive","imageUploadActiveRef","useRef","fileInput","uploadCanvas","useEffect","setTimeout","window","scroll","top","current","offsetTop","behavior","img","Image","saveImage","ctx","getContext","drawImage","canvasDataUrl","toDataURL","imageLoadFailed","console","error","imageUpload","ref","button","htmlFor","type","name","id","onChange","onload","onerror","src","URL","createObjectURL","files","hidden","debounce","fn","ms","timer","clearTimeout","apply","arguments","useWindowWidth","debounceTimer","useState","innerWidth","windowWidth","setWindowWidth","addEventListener","removeEventListener","ScaleInput","ScaleInputActive","topTubePoints","setTopTubePoints","sourceDimensions","setSourceDimensions","canvasScaleRef","scaleInputRef","scaleInputDivRef","imageHeight","imageWidth","displayScaleFactor","clientWidth","drawTopTubePoints","drawImageOnCanvas","forEach","point","drawCircle","strokeStyle","lineWidth","beginPath","arc","Math","PI","scaleInput","minHeight","onSubmit","event","preventDefault","length","hypot","value","setPixelToInchScale","scaleInputForm","input","placeholder","evt","rect","getBoundingClientRect","xSourceCoord","clientX","left","ySourceCoord","clientY","ShapeInput","ShapeInputActive","points","setPoints","canvasShapeRef","shapeInputDivRef","drawPoints","drawLines","i","moveTo","lineTo","shapeInput","buttonRow","CustomSpecification","customSpecContainer","customSpecContents","SignInPrompt","signInButton","Account","awsmobile","App","setUser","activeMainComponent","Hub","listen","payload","data","currentAuthenticatedUser","then","u","useReducer","dispatch","newActive","useUIStateManager","custom","Provider","Amplify","configure","config","MainComponent","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a5805d18.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__2Zh7y\",\"iconDescContainer\":\"Home_iconDescContainer__lwb9z\",\"row\":\"Home_row__3uUUw\",\"bigScreenReverseRow\":\"Home_bigScreenReverseRow__2LpWW\",\"icon\":\"Home_icon__1RNnw\",\"text\":\"Home_text__yLEED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bagIcon\":\"StyleSelection_bagIcon__gjqEV\",\"styleContainer\":\"StyleSelection_styleContainer__2rKvy\",\"styleItem\":\"StyleSelection_styleItem__HH9RA\",\"styleItemActive\":\"StyleSelection_styleItemActive__3VPpx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageUpload\":\"ImageUpload_imageUpload__2kyVe\",\"button\":\"ImageUpload_button__2ZvqF\",\"fileInput\":\"ImageUpload_fileInput__32kdw\",\"hidden\":\"ImageUpload_hidden__3cEGb\",\"minimized\":\"ImageUpload_minimized__1kd-9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scaleInputForm\":\"ScaleInput_scaleInputForm__3GYfS\",\"scaleInput\":\"ScaleInput_scaleInput__3lksu\",\"button\":\"ScaleInput_button__26wym\",\"minimized\":\"ScaleInput_minimized__1IaZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shapeInput\":\"ShapeInput_shapeInput__34sbM\",\"buttonRow\":\"ShapeInput_buttonRow__1DTqS\",\"button\":\"ShapeInput_button__vHN-I\",\"minimized\":\"ShapeInput_minimized__3sG6i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customSpecContainer\":\"CustomSpec_customSpecContainer__12VYb\",\"customSpecContents\":\"CustomSpec_customSpecContents__1OPUK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3diqq\",\"headerContent\":\"Header_headerContent__1skw-\",\"headerTitle\":\"Header_headerTitle__2ZMQM\",\"links\":\"Header_links__KrrUu\"};","//the process of a user completing the design of a bag occurs in phases\r\n//each phase of user interaction occurs in a seperate component\r\n//completion of a phase reveals the next component and minimizes the previous component\r\n//a user can click on a previous component that is minimized to go back to that step\r\n//this hook abstracts the reducer that manages whether each component is inactive, active, or minimized\r\n\r\nimport { useReducer } from 'react';\r\n\r\nconst initialCustomSpecUIState = {\r\n    image: null,\r\n    scale: null,\r\n    shape: null,\r\n    download: null\r\n}\r\n\r\nconst customSpecUIReducer = (state, action) => {\r\n    switch (action) {\r\n        case 'image':\r\n            return {\r\n                ...state,\r\n                image: 'active',\r\n                scale: state.scale === null ? null : 'minimized',\r\n                shape: state.shape === null ? null : 'minimized',\r\n            }\r\n        case 'scale':\r\n            return {\r\n                ...state,\r\n                scale: 'active',\r\n                image: 'minimized',\r\n                shape: state.shape == null ? null : 'minimized',\r\n            }\r\n        case 'shape':\r\n            return {\r\n                ...state,\r\n                shape: 'active',\r\n                image: 'minimized',\r\n                scale: 'minimized',\r\n            }\r\n        case 'clear':\r\n            return {\r\n                image: null,\r\n                scale: null,\r\n                shape: null,\r\n                download: null\r\n            }\r\n        default:\r\n            throw new Error('invalid custom spec phase');\r\n    }\r\n}\r\n\r\nexport function useUIStateManager() {\r\n    const [customSpecUIState, dispatch] = useReducer(customSpecUIReducer, initialCustomSpecUIState);\r\n\r\n    const setActiveCustomSpecPhase = newActive => {\r\n        dispatch(newActive)\r\n    };\r\n    \r\n    return [customSpecUIState, setActiveCustomSpecPhase];\r\n};","import { createContext } from \"react\";\r\nexport const ModeContext = createContext('home');","import { createContext } from \"react\";\r\nexport const CustomSpecContext = createContext(null);","import { createContext } from \"react\";\r\nexport const UserContext = createContext(null);","import React, { useContext, useState, useEffect } from 'react';\r\nimport { ModeContext } from '../modeContext';\r\nimport { UserContext } from '../userContext';\r\nimport styles from '../styles/Header.module.css';\r\n\r\nimport { Auth } from 'aws-amplify';\r\n\r\nexport default function Header() {\r\n    const { setActiveMainComponent } = useContext(ModeContext);\r\n\r\n    return (\r\n        <div className={styles.header}>\r\n            <div className={styles.headerContent}>\r\n                <h1 className={styles.headerTitle}>Bike Frame Bag Designer</h1>\r\n                <div className={styles.links}>\r\n                    <SignInOutComponent />\r\n                    <h3 onClick={() => setActiveMainComponent('customSpec')}> Custom </h3>\r\n                    <h3 onClick={() => setActiveMainComponent('home')}> Home </h3>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SignInOutComponent = () => {\r\n    const { setActiveMainComponent } = useContext(ModeContext);\r\n    const { user } = useContext(UserContext);\r\n\r\n    if (user) {\r\n        return (<h3 onClick={() => setActiveMainComponent('account')}> Account </h3>)\r\n    } else {\r\n        return (\r\n            <h3 onClick={() => Auth.federatedSignIn()}> Sign In </h3>\r\n        )\r\n    }\r\n}","import React, { useContext } from 'react';\r\nimport { ModeContext } from '../modeContext';\r\nimport styles from '../styles/Home.module.css';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport SquareFootIcon from '@material-ui/icons/SquareFoot';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\n\r\nconst Home = () => {\r\n    const { setActiveMainComponent } = useContext(ModeContext);\r\n    return (\r\n        <div className={styles.home}>\r\n            \r\n            <h1>How it works</h1>\r\n\r\n            <div className={styles.iconDescContainer}>\r\n                <div className={styles.bigScreenReverseRow}>\r\n                    <div className={styles.icon}>\r\n                        <BackupIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n\r\n                    <div className={styles.text}>\r\n                        <p>1. Upload an image of your bike</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.row}>\r\n                    <div className={styles.icon}>\r\n                        <SquareFootIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n                    <div className={styles.text}>\r\n                        <p>2. Measure your bike to establish the scale</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.bigScreenReverseRow}>\r\n                    <div className={styles.icon}>\r\n                        <CreateIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n\r\n                    <div className={styles.text}>\r\n                        <p>3. Outline your desired shape</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.row}>\r\n                    <div className={styles.icon}>\r\n                        <AddShoppingCartIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n                    <div className={styles.text}>\r\n                        <p>4. Submit your design and receive your custom bike frame bag</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button className='button' onClick={() => setActiveMainComponent('customSpec')}> create custom bag</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\n\r\nconst SvgToptube = props => (\r\n  <svg width={644.091} height={341.511} {...props} viewBox=\"0 0 644 342\">\r\n    <path\r\n      d=\"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <rect\r\n      width={52.764}\r\n      height={118.582}\r\n      x={369.241}\r\n      y={-221.188}\r\n      transform=\"matrix(.6959 .71813 -.67781 .73523 0 0)\"\r\n      ry={22.455}\r\n      opacity={0.97}\r\n      fill=\"#0000b2\"\r\n    />\r\n    <rect\r\n      width={52.764}\r\n      height={118.582}\r\n      x={194.913}\r\n      y={207.595}\r\n      transform=\"matrix(.98364 -.18014 .23523 .97194 0 0)\"\r\n      ry={18.571}\r\n      opacity={0.97}\r\n      fill=\"#0000b2\"\r\n    />\r\n    <path\r\n      d=\"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M216.762 72.737l15.127 58.618 247.08-27.733L520.254 59.5 508.28 15.38z\"\r\n      fill=\"#92ba40\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SvgToptube;\r\n","import React from \"react\";\r\n\r\nconst SvgFull = props => (\r\n  <svg width={644.091} height={341.511} {...props} viewBox=\"0 0 644 342\">\r\n    <path\r\n      d=\"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M216.577 72.183l48.308 193.333h63.381L520.7 60.837l-12.644-44.79z\"\r\n      fill=\"#92ba40\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SvgFull;\r\n","import React from \"react\";\r\n\r\nconst SvgFront = props => (\r\n  <svg width={644.091} height={341.511} {...props} viewBox=\"0 0 644 342\">\r\n    <path\r\n      d=\"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <rect\r\n      width={52.764}\r\n      height={118.582}\r\n      x={194.913}\r\n      y={207.595}\r\n      transform=\"matrix(.98364 -.18014 .23523 .97194 0 0)\"\r\n      ry={18.571}\r\n      opacity={0.97}\r\n      fill=\"#0000b2\"\r\n    />\r\n    <path\r\n      d=\"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M269.523 62.098l51.275 211.962L479.415 104.96 520.7 60.837l-12.644-44.79z\"\r\n      fill=\"#92ba40\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SvgFront;\r\n","import React, { useContext } from 'react';\r\nimport TopTube from '../assets/images/Toptube';\r\nimport Full from '../assets/images/Full';\r\nimport Front from '../assets/images/Front';\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport cssStyle from '../styles/StyleSelection.module.css';\r\n\r\nconst StyleSelection = () => {\r\n    const { customSpecState, setCustomSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    \r\n    const handleClick = (style) => {\r\n        setCustomSpecState({ ...customSpecState, style: style })\r\n        setActiveCustomSpecPhase('image');\r\n    }\r\n\r\n    return (\r\n        <div className={cssStyle.styleContainer}>\r\n            <div className={customSpecState.style === 'topTube' ? cssStyle.styleItemActive : cssStyle.styleItem}\r\n                onClick={() => handleClick('topTube')}>\r\n                <h4>Top Tube</h4>\r\n                <TopTube className={cssStyle.bagIcon} />\r\n            </div>\r\n            <div className={customSpecState.style === 'front' ? cssStyle.styleItemActive : cssStyle.styleItem}\r\n                onClick={() => handleClick('front')}>\r\n                <h4>Front</h4>\r\n                <Front className={cssStyle.bagIcon} />\r\n            </div>\r\n            <div className={customSpecState.style === 'full' ? cssStyle.styleItemActive : cssStyle.styleItem}\r\n                onClick={() => handleClick('full')}>\r\n                <h4>Full</h4>\r\n                <Full className={cssStyle.bagIcon} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StyleSelection;","import React, { useRef, useContext, useEffect } from 'react';\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport styles from '../styles/ImageUpload.module.css';\r\n\r\nexport default function ImageUpload() {\r\n    const { customSpecUIState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n\r\n    switch (customSpecUIState.image) {\r\n        case 'active':\r\n            return <ImageUploadActive />\r\n        case 'minimized':\r\n            return (\r\n                <div className={styles.minimized} onClick={() => setActiveCustomSpecPhase('image')}>\r\n                    <h3>Image Upload</h3>\r\n                </div>\r\n            )\r\n        default: return null\r\n    }\r\n}\r\n\r\nconst ImageUploadActive = () => {\r\n    const { setCustomSpecState, customSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    let imageUploadActiveRef = useRef();\r\n    let fileInput = useRef();\r\n    let uploadCanvas = useRef();\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scroll({\r\n                top: imageUploadActiveRef.current.offsetTop,\r\n                behavior: \"smooth\",\r\n            });\r\n        }, 0);\r\n    }, [])\r\n\r\n    var img = new Image();\r\n\r\n    const onImageLoad = () => {\r\n        img.onload = saveImage;\r\n        img.onerror = imageLoadFailed;\r\n        img.src = URL.createObjectURL(fileInput.current.files[0]);\r\n    }\r\n\r\n    const saveImage = () => {\r\n        let ctx = uploadCanvas.current.getContext('2d');\r\n        uploadCanvas.current.width = img.width;\r\n        uploadCanvas.current.height = img.height;\r\n        ctx.drawImage(img, 0, 0);\r\n        let canvasDataUrl = uploadCanvas.current.toDataURL('image/png');\r\n        setCustomSpecState({ ...customSpecState, image: canvasDataUrl })\r\n        setActiveCustomSpecPhase('scale');\r\n    }\r\n\r\n    const imageLoadFailed = () => {\r\n        console.error(\"The provided file couldn't be loaded as an Image media\");\r\n    }\r\n    return (\r\n        <div className={styles.imageUpload} ref={imageUploadActiveRef}>\r\n            <h3>Image Upload</h3>\r\n            <label className={styles.button} htmlFor='file'><p>Upload Photo</p></label>\r\n            <input className={styles.fileInput} type='file' name='file' id='file' ref={fileInput} onChange={onImageLoad} />\r\n            <canvas className={styles.hidden}\r\n                ref={uploadCanvas}\r\n                width=''\r\n                height='' />\r\n        </div>\r\n    )\r\n}","export function debounce(fn, ms) {\r\n    let timer\r\n    return () => {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n            timer = null\r\n            fn.apply(this, arguments)\r\n        }, ms)\r\n    };\r\n}","import { debounce } from '../actions';\r\nimport {useState, useEffect} from 'react'\r\n\r\nexport function useWindowWidth(debounceTimer) {\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth)\r\n    useEffect(() => {\r\n        window.addEventListener('resize', debounce(() => setWindowWidth(window.innerWidth), debounceTimer));\r\n        return () => {\r\n            window.removeEventListener('resize', debounce(() => setWindowWidth(window.innerWidth), debounceTimer))\r\n        };\r\n    }, [])\r\n\r\n    return [windowWidth];\r\n};","import React, { useRef, useContext, useEffect, useState } from 'react';\r\nimport { useWindowWidth } from '../customHooks/useWindowWidth'\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport styles from '../styles/ScaleInput.module.css'\r\n\r\nexport default function ScaleInput() {\r\n    const { customSpecUIState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    switch (customSpecUIState.scale) {\r\n        case 'active':\r\n            return <ScaleInputActive />\r\n        case 'minimized':\r\n            return (\r\n                <div className={styles.minimized} onClick={() => setActiveCustomSpecPhase('scale')}>\r\n                    <h3>Scale</h3>\r\n                </div>\r\n            )\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n\r\nconst ScaleInputActive = () => {\r\n    const [windowWidth] = useWindowWidth(50)\r\n    const [topTubePoints, setTopTubePoints] = useState([]);\r\n    const [sourceDimensions, setSourceDimensions] = useState(null);\r\n    const { setCustomSpecState, customSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    let canvasScaleRef = useRef();\r\n    let scaleInputRef = useRef();\r\n    let scaleInputDivRef = useRef();\r\n    let ctx;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scroll({\r\n                top: scaleInputDivRef.current.offsetTop,\r\n                behavior: \"smooth\",\r\n            });\r\n        }, 0);\r\n    }, [])\r\n\r\n    //loads image onto canvas and calls drawTopTubePoints\r\n    const drawImageOnCanvas = () => {\r\n        let image = new Image();\r\n        image.onload = () => {\r\n            if (!sourceDimensions) setSourceDimensions({ imageHeight: image.height, imageWidth: image.width });\r\n            let displayScaleFactor = scaleInputDivRef.current.clientWidth / image.width;\r\n            canvasScaleRef.current.width = image.width * displayScaleFactor;\r\n            canvasScaleRef.current.height = image.height * displayScaleFactor;\r\n            ctx = canvasScaleRef.current.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, canvasScaleRef.current.width, canvasScaleRef.current.height); //draws image on canvas\r\n            drawTopTubePoints()\r\n        }\r\n        image.src = customSpecState.image;\r\n    }\r\n\r\n    //draws the image and points on the canvas when window width or points changes\r\n    useEffect(() => {\r\n        drawImageOnCanvas();\r\n    }, [windowWidth, topTubePoints])\r\n\r\n    //draws the points on the canvas\r\n    const drawTopTubePoints = () => {\r\n        topTubePoints.forEach(point => {\r\n            drawCircle((point[0] * (canvasScaleRef.current.width / sourceDimensions.imageWidth)),\r\n                (point[1] * (canvasScaleRef.current.height / sourceDimensions.imageHeight)))\r\n        })\r\n    }\r\n\r\n    //draws a user-selected point on the canvas\r\n    const drawCircle = (x, y) => {\r\n        ctx = canvasScaleRef.current.getContext('2d');\r\n        ctx.strokeStyle = \"#FF0000\";\r\n        ctx.lineWidth = 3;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 10, 0, 2 * Math.PI);\r\n        ctx.stroke();\r\n    }\r\n\r\n    //captures user click on the canvas and converts to pixel coordinates of original image\r\n    const canvasScaleClick = (evt) => {\r\n        let displayScaleFactor = scaleInputDivRef.current.clientWidth / sourceDimensions.imageWidth;\r\n        if (topTubePoints.length < 2) {\r\n            let rect = canvasScaleRef.current.getBoundingClientRect();\r\n            let x = (evt.clientX - rect.left);\r\n            let y = (evt.clientY - rect.top);\r\n            let xSourceCoord = x / displayScaleFactor;\r\n            let ySourceCoord = y / displayScaleFactor;\r\n            if (topTubePoints.length === 1) {\r\n                setTopTubePoints([topTubePoints[0], [xSourceCoord, ySourceCoord]]);\r\n            } else {\r\n                setTopTubePoints([[xSourceCoord, ySourceCoord]]);\r\n            }\r\n        }\r\n    }\r\n\r\n    //establishes a ratio of source image pixels to inches\r\n    const setPixelToInchScale = (event) => {\r\n        event.preventDefault();\r\n        if (topTubePoints.length === 2) {\r\n            let distance = Math.hypot(topTubePoints[0][0] - topTubePoints[1][0], topTubePoints[0][1] - topTubePoints[1][1])\r\n            let scale = (distance / scaleInputRef.value);\r\n            setCustomSpecState({ ...customSpecState, scale: scale })\r\n            setActiveCustomSpecPhase('shape');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.scaleInput} ref={scaleInputDivRef} style={{minHeight: '50vh'}}>\r\n            <h3>Scale</h3>\r\n            <form onSubmit={(event) => setPixelToInchScale(event)} className={styles.scaleInputForm}>\r\n                <input ref={(input) => { scaleInputRef = input }} placeholder='Top Tube Length in inches' type='number' />\r\n                <button className={styles.button} type='submit'>Submit</button>\r\n                <button className={styles.button} onClick={() => setTopTubePoints([])}>Reset</button>\r\n            </form>\r\n            <canvas ref={canvasScaleRef} width='0' height='0' onClick={canvasScaleClick} />\r\n        </div>\r\n    )\r\n}","import React, { useRef, useContext, useEffect, useState } from 'react';\r\n//hooks\r\nimport { useWindowWidth } from '../customHooks/useWindowWidth'\r\nimport styles from '../styles/ShapeInput.module.css'\r\n//context\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport { ModeContext } from '../modeContext';\r\n\r\nexport default function ShapeInput() {\r\n    const { customSpecUIState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n\r\n    switch (customSpecUIState.shape) {\r\n        case 'active':\r\n            return <ShapeInputActive />\r\n        case 'minimized':\r\n            return (\r\n                <div className={styles.minimized} onClick={() => setActiveCustomSpecPhase('shape')}>\r\n                    <h3>Shape</h3>\r\n                </div>\r\n            )\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n\r\nconst ShapeInputActive = () => {\r\n    const { setActiveMainComponent } = useContext(ModeContext)\r\n    const [windowWidth] = useWindowWidth(50)\r\n    const { customSpecState, setCustomSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext);\r\n    const [points, setPoints] = useState([]);\r\n    const [sourceDimensions, setSourceDimensions] = useState(null);\r\n    let canvasShapeRef = useRef();\r\n    let shapeInputDivRef = useRef();\r\n    let displayScaleFactor;\r\n\r\n    //draws the image and points on the canvas when window width or points changes\r\n    useEffect(() => {\r\n        drawImageOnCanvas();\r\n    }, [windowWidth, points])\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scroll({\r\n                top: shapeInputDivRef.current.offsetTop,\r\n                behavior: \"smooth\",\r\n            });\r\n        }, 0);\r\n    }, [])\r\n\r\n    const drawImageOnCanvas = () => {\r\n        let image = new Image();\r\n        image.onload = () => {\r\n            if (!sourceDimensions) setSourceDimensions({ imageHeight: image.height, imageWidth: image.width }); //saves image source dimensions on first load\r\n            canvasShapeRef.current.width = shapeInputDivRef.current.clientWidth; //set width of canvas to be equal to its parent div\r\n            displayScaleFactor = canvasShapeRef.current.width / image.width;\r\n            canvasShapeRef.current.height = displayScaleFactor * image.height; //set height based on width and image ratio\r\n            let ctx = canvasShapeRef.current.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, canvasShapeRef.current.width, canvasShapeRef.current.height); //draws image on canvas\r\n            drawPoints();\r\n            drawLines();\r\n        }\r\n        image.src = customSpecState.image;\r\n    }\r\n\r\n    const drawPoints = () => {\r\n        points.forEach(point => {\r\n            drawCircle(point[0] * displayScaleFactor, point[1] * displayScaleFactor)\r\n        })\r\n    }\r\n\r\n    const drawCircle = (x, y) => {\r\n        let ctx = canvasShapeRef.current.getContext('2d');\r\n        ctx.strokeStyle = \"#FF0000\";\r\n        ctx.lineWidth = 3;\r\n        ctx.beginPath();\r\n        ctx.arc(x, y, 10, 0, 2 * Math.PI);\r\n        ctx.stroke();\r\n    }\r\n\r\n    const drawLines = () => {\r\n        for (let i = 0; i < points.length - 1; i++) {\r\n            let ctx = canvasShapeRef.current.getContext('2d');\r\n            ctx.strokeStyle = \"#FF0000\";\r\n            ctx.lineWidth = 3;\r\n            ctx.moveTo(points[i][0] * displayScaleFactor, points[i][1] * displayScaleFactor);\r\n            ctx.lineTo(points[i + 1][0] * displayScaleFactor, points[i + 1][1] * displayScaleFactor);\r\n            ctx.stroke();\r\n        }\r\n    }\r\n\r\n    //allows users to reset\r\n    const resetShape = () => {\r\n        setPoints([]);\r\n    }\r\n    //allows users to submit\r\n    const shapeInputSubmit = () => {\r\n        setCustomSpecState({\r\n            ...customSpecState,\r\n            shape: points\r\n        })\r\n        setActiveCustomSpecPhase('clear');\r\n        setActiveMainComponent('account')\r\n    }\r\n\r\n    // allows user to select points\r\n    // translates display coords to source coords\r\n    const canvasShapeClick = (evt) => {\r\n\r\n        //get display coordinate of click\r\n        let rect = canvasShapeRef.current.getBoundingClientRect();\r\n        let x = (evt.clientX - rect.left);\r\n        let y = (evt.clientY - rect.top);\r\n\r\n        //transform to source coordinate\r\n        let xSourceCoord = x * sourceDimensions.imageWidth / canvasShapeRef.current.width;\r\n        let ySourceCoord = y * sourceDimensions.imageHeight / canvasShapeRef.current.height;\r\n\r\n        //check through existing points to see if click is on a previously selected point \r\n        //(ie. when closing the shape)\r\n        for (let i = 0; i < points.length; i++) {\r\n            let distance = Math.hypot(points[i][0] * displayScaleFactor - xSourceCoord * displayScaleFactor, points[i][1] * displayScaleFactor - ySourceCoord * displayScaleFactor);\r\n            if (distance < 10) {        //i.e. if click is within drawn circle\r\n                setPoints([...points, [points[i][0], points[i][1]]]); //add that same point to the array\r\n                return;\r\n            };\r\n        }\r\n        setPoints([...points, [xSourceCoord, ySourceCoord]]);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.shapeInput} ref={shapeInputDivRef} style={{ minHeight: '50vh' }}>\r\n            <h3>Shape</h3>\r\n            <div className={styles.buttonRow}>\r\n                <button className={styles.button} onClick={shapeInputSubmit}>Submit Design</button>\r\n                <button className={styles.button} onClick={resetShape}>Reset Shape</button>\r\n            </div>\r\n            <canvas ref={canvasShapeRef} width='0' height='0' onClick={canvasShapeClick} />\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react';\r\n//components\r\nimport StyleSelection from './StyleSelection';\r\nimport ImageUpload from './ImageUpload';\r\nimport ScaleInput from './ScaleInput';\r\nimport ShapeInput from './ShapeInput';\r\n//context\r\nimport { UserContext } from '../userContext';\r\n//styles\r\nimport styles from '../styles/CustomSpec.module.css';\r\n\r\nimport { Auth } from 'aws-amplify';\r\n\r\nexport default function CustomSpecification() {\r\n    const { user } = useContext(UserContext)\r\n\r\n    if (!user) return <SignInPrompt />\r\n    \r\n    return (\r\n        <div className={styles.customSpecContainer}>\r\n            <div className={styles.customSpecContents} >\r\n                <StyleSelection />\r\n                <ImageUpload />\r\n                <ScaleInput />\r\n                <ShapeInput />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst SignInPrompt = () => {\r\n    return (\r\n        <div className={styles.customSpecContainer}>\r\n            <div className={styles.customSpecContents} >\r\n                <h1>Sign in to create a custom bag</h1>\r\n                <button className={styles.signInButton} onClick={() => Auth.federatedSignIn()}> Sign In </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function Account() {\r\n    return(\r\n        null\r\n    )\r\n}","// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-west-2\",\n    \"aws_cognito_identity_pool_id\": \"us-west-2:a4efee23-4f3c-48bd-a106-c5a6ea4e5a6d\",\n    \"aws_cognito_region\": \"us-west-2\",\n    \"aws_user_pools_id\": \"us-west-2_tr6VflDF2\",\n    \"aws_user_pools_web_client_id\": \"29u6ikqdejik997f8evq8ldu43\",\n    \"oauth\": {\n        \"domain\": \"bike-bag-project2-new-production.auth.us-west-2.amazoncognito.com\",\n        \"scope\": [\n            \"phone\",\n            \"email\",\n            \"openid\",\n            \"profile\",\n            \"aws.cognito.signin.user.admin\"\n        ],\n        \"redirectSignIn\": \"https://ethanse.github.io/bikeBagProject2/\",\n        \"redirectSignOut\": \"https://ethanse.github.io/bikeBagProject2/,https://ethanse.github.io/bikeBagProject2/\",\n        \"responseType\": \"code\"\n    },\n    \"federationTarget\": \"COGNITO_USER_POOLS\"\n};\n\n\nexport default awsmobile;\n","import React, { useState, useEffect, useContext } from 'react';\r\n//hooks\r\nimport { useUIStateManager } from '../customHooks/useUIStateManager'\r\n//context\r\nimport { ModeContext } from '../modeContext';\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport { UserContext } from '../userContext';\r\n//components\r\nimport Header from './Header';\r\nimport Home from './Home';\r\nimport CustomSpecification from './CustomSpecification';\r\nimport Account from './Account';\r\n//aws\r\nimport Amplify from 'aws-amplify';\r\nimport config from '../aws-exports';\r\nimport { Auth, Hub } from 'aws-amplify';\r\n\r\nAmplify.configure(config)\r\n\r\nexport default function App() {\r\n  const [user, setUser] = useState(null)\r\n\r\n  //set up mode context\r\n  const [activeMainComponent, setActiveMainComponent] = useState('home');\r\n\r\n  //set up customSpecContext\r\n  const [customSpecState, setCustomSpecState] = useState({\r\n    style: '',\r\n    image: null,\r\n    scale: null,\r\n    shape: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    Hub.listen(\"auth\", ({ payload: { event, data } }) => {\r\n      if (event === \"signOut\") {\r\n        setUser(null);\r\n      } else if (event === 'signIn') {\r\n        Auth.currentAuthenticatedUser().then(u => setUser(u))\r\n      }\r\n    });\r\n  });\r\n\r\n  const [customSpecUIState, setActiveCustomSpecPhase] = useUIStateManager();\r\n  const custom = { customSpecState, setCustomSpecState, customSpecUIState, setActiveCustomSpecPhase };\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, setUser }}>\r\n      <ModeContext.Provider value={{ activeMainComponent, setActiveMainComponent }}>\r\n        <CustomSpecContext.Provider value={custom}>\r\n          <Header />\r\n          <MainComponent />\r\n        </CustomSpecContext.Provider>\r\n      </ModeContext.Provider>\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nconst MainComponent = () => {\r\n  const { activeMainComponent } = useContext(ModeContext)\r\n\r\n  switch (activeMainComponent) {\r\n    case 'home':\r\n      return (<Home />)\r\n    case 'customSpec':\r\n      return <CustomSpecification />\r\n    case 'account':\r\n      return <Account />\r\n    default:\r\n      console.log('default')\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nconst render = () => {\r\n    ReactDOM.render(\r\n        <App />\r\n        , document.getElementById('root')\r\n    );\r\n};\r\n\r\nrender(App);"],"sourceRoot":""}