{"version":3,"sources":["styles/Home.module.css","styles/StyleSelection.module.css","styles/ImageUpload.module.css","styles/ScaleInput.module.css","styles/ShapeInput.module.css","styles/CustomSpec.module.css","styles/Header.module.css","customHooks/useUIStateManager.js","modeContext.js","customSpecContext.js","userContext.js","components/Header.jsx","components/Home.jsx","assets/images/Toptube.js","assets/images/Full.js","assets/images/Front.js","components/StyleSelection.jsx","components/ImageUpload.jsx","actions.js","customHooks/useWindowWidth.js","components/ScaleInput.jsx","aws-exports.js","components/ShapeInput.jsx","graphql/mutations.js","components/CustomSpecification.jsx","components/Account.js","graphql/queries.js","components/App.js","index.js"],"names":["module","exports","initialCustomSpecUIState","image","scale","shape","download","customSpecUIReducer","state","action","Error","ModeContext","createContext","CustomSpecContext","UserContext","Header","setActiveMainComponent","useContext","className","styles","header","headerContent","headerTitle","links","onClick","SignInOutComponent","user","Auth","federatedSignIn","Home","home","iconDescContainer","bigScreenReverseRow","icon","fontSize","color","text","row","SvgToptube","props","width","height","viewBox","d","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x","y","transform","ry","opacity","SvgFull","SvgFront","StyleSelection","customSpecState","setCustomSpecState","setActiveCustomSpecPhase","handleClick","style","styleContainer","styleItemActive","styleItem","bagIcon","Front","Full","ImageUpload","customSpecUIState","minimized","ImageUploadActive","imageUploadActiveRef","useRef","fileInput","uploadCanvas","useEffect","setTimeout","window","scroll","top","current","offsetTop","behavior","img","Image","imageLoadFailed","console","error","imageUpload","ref","button","htmlFor","type","name","id","onChange","onload","log","imageRaw","files","onerror","src","URL","createObjectURL","hidden","debounce","fn","ms","timer","clearTimeout","apply","arguments","drawPoints","canvasRef","points","displayScaleFactor","ctx","getContext","strokeStyle","lineWidth","forEach","point","beginPath","arc","Math","PI","drawLines","i","length","moveTo","lineTo","useWindowWidth","debounceTimer","useState","innerWidth","windowWidth","setWindowWidth","addEventListener","removeEventListener","ScaleInput","ScaleInputActive","topTubePoints","setTopTubePoints","sourceDimensions","setSourceDimensions","canvasScaleRef","scaleInputRef","scaleInputDivRef","imageHeight","imageWidth","clientWidth","drawImage","drawCanvas","scaleInput","minHeight","onSubmit","event","preventDefault","hypot","value","setPixelToInchScale","scaleInputForm","input","placeholder","evt","rect","getBoundingClientRect","xSourceCoord","clientX","left","ySourceCoord","clientY","awsmobile","region","config","aws_user_files_s3_bucket_region","bucket","aws_user_files_s3_bucket","ShapeInput","ShapeInputActive","setPoints","canvasShapeRef","shapeInputDivRef","shapeInputSubmit","a","uploadDesign","design","Storage","put","uuid","contentType","then","result","createCustomBag","catch","err","newBag","owner","attributes","sub","key","toString","API","graphql","graphqlOperation","newExperienceResult","shapeInput","buttonRow","CustomSpecification","customSpecContainer","customSpecContents","SignInPrompt","signInButton","Account","designs","setDesigns","fetchDesigns","filter","eq","data","listCustomDesigns","items","DesignList","listItems","map","DesignItem","imageUrl","setImageUrl","get","url","App","setUser","activeMainComponent","Hub","listen","payload","currentAuthenticatedUser","u","useReducer","dispatch","newActive","useUIStateManager","custom","Provider","Amplify","configure","MainComponent","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be82c065.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__2Zh7y\",\"iconDescContainer\":\"Home_iconDescContainer__lwb9z\",\"row\":\"Home_row__3uUUw\",\"bigScreenReverseRow\":\"Home_bigScreenReverseRow__2LpWW\",\"icon\":\"Home_icon__1RNnw\",\"text\":\"Home_text__yLEED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bagIcon\":\"StyleSelection_bagIcon__gjqEV\",\"styleContainer\":\"StyleSelection_styleContainer__2rKvy\",\"styleItem\":\"StyleSelection_styleItem__HH9RA\",\"styleItemActive\":\"StyleSelection_styleItemActive__3VPpx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageUpload\":\"ImageUpload_imageUpload__2kyVe\",\"button\":\"ImageUpload_button__2ZvqF\",\"fileInput\":\"ImageUpload_fileInput__32kdw\",\"hidden\":\"ImageUpload_hidden__3cEGb\",\"minimized\":\"ImageUpload_minimized__1kd-9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scaleInputForm\":\"ScaleInput_scaleInputForm__3GYfS\",\"scaleInput\":\"ScaleInput_scaleInput__3lksu\",\"button\":\"ScaleInput_button__26wym\",\"minimized\":\"ScaleInput_minimized__1IaZN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shapeInput\":\"ShapeInput_shapeInput__34sbM\",\"buttonRow\":\"ShapeInput_buttonRow__1DTqS\",\"button\":\"ShapeInput_button__vHN-I\",\"minimized\":\"ShapeInput_minimized__3sG6i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customSpecContainer\":\"CustomSpec_customSpecContainer__12VYb\",\"customSpecContents\":\"CustomSpec_customSpecContents__1OPUK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3diqq\",\"headerContent\":\"Header_headerContent__1skw-\",\"headerTitle\":\"Header_headerTitle__2ZMQM\",\"links\":\"Header_links__KrrUu\"};","//the process of a user completing the design of a bag occurs in phases\r\n//each phase of user interaction occurs in a seperate component\r\n//completion of a phase reveals the next component and minimizes the previous component\r\n//a user can click on a previous component that is minimized to go back to that step\r\n//this hook abstracts the reducer that manages whether each component is inactive, active, or minimized\r\n\r\nimport { useReducer } from 'react';\r\n\r\nconst initialCustomSpecUIState = {\r\n    image: null,\r\n    scale: null,\r\n    shape: null,\r\n    download: null\r\n}\r\n\r\nconst customSpecUIReducer = (state, action) => {\r\n    switch (action) {\r\n        case 'image':\r\n            return {\r\n                ...state,\r\n                image: 'active',\r\n                scale: state.scale === null ? null : 'minimized',\r\n                shape: state.shape === null ? null : 'minimized',\r\n            }\r\n        case 'scale':\r\n            return {\r\n                ...state,\r\n                scale: 'active',\r\n                image: 'minimized',\r\n                shape: state.shape == null ? null : 'minimized',\r\n            }\r\n        case 'shape':\r\n            return {\r\n                ...state,\r\n                shape: 'active',\r\n                image: 'minimized',\r\n                scale: 'minimized',\r\n            }\r\n        case 'clear':\r\n            return {\r\n                image: null,\r\n                scale: null,\r\n                shape: null,\r\n                download: null\r\n            }\r\n        default:\r\n            throw new Error('invalid custom spec phase');\r\n    }\r\n}\r\n\r\nexport function useUIStateManager() {\r\n    const [customSpecUIState, dispatch] = useReducer(customSpecUIReducer, initialCustomSpecUIState);\r\n\r\n    const setActiveCustomSpecPhase = newActive => {\r\n        dispatch(newActive)\r\n    };\r\n    \r\n    return [customSpecUIState, setActiveCustomSpecPhase];\r\n};","import { createContext } from \"react\";\r\nexport const ModeContext = createContext('home');","import { createContext } from \"react\";\r\nexport const CustomSpecContext = createContext(null);","import { createContext } from \"react\";\r\nexport const UserContext = createContext(null);","import React, { useContext, useState, useEffect } from 'react';\r\nimport { ModeContext } from '../modeContext';\r\nimport { UserContext } from '../userContext';\r\nimport styles from '../styles/Header.module.css';\r\n\r\nimport { Auth } from 'aws-amplify';\r\n\r\nexport default function Header() {\r\n    const { setActiveMainComponent } = useContext(ModeContext);\r\n\r\n    return (\r\n        <div className={styles.header}>\r\n            <div className={styles.headerContent}>\r\n                <h1 className={styles.headerTitle}>Bike Frame Bag Designer</h1>\r\n                <div className={styles.links}>\r\n                    <SignInOutComponent />\r\n                    <h3 onClick={() => setActiveMainComponent('customSpec')}> Custom </h3>\r\n                    <h3 onClick={() => setActiveMainComponent('home')}> Home </h3>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SignInOutComponent = () => {\r\n    const { setActiveMainComponent } = useContext(ModeContext);\r\n    const { user } = useContext(UserContext);\r\n\r\n    if (user) {\r\n        return (<h3 onClick={() => setActiveMainComponent('account')}> Account </h3>)\r\n    } else {\r\n        return (\r\n            <h3 onClick={() => Auth.federatedSignIn()}> Sign In </h3>\r\n        )\r\n    }\r\n}","import React, { useContext } from 'react';\r\nimport { ModeContext } from '../modeContext';\r\nimport styles from '../styles/Home.module.css';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport SquareFootIcon from '@material-ui/icons/SquareFoot';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\n\r\nconst Home = () => {\r\n    const { setActiveMainComponent } = useContext(ModeContext);\r\n    return (\r\n        <div className={styles.home}>\r\n            \r\n            <h1>How it works</h1>\r\n\r\n            <div className={styles.iconDescContainer}>\r\n                <div className={styles.bigScreenReverseRow}>\r\n                    <div className={styles.icon}>\r\n                        <BackupIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n\r\n                    <div className={styles.text}>\r\n                        <p>1. Upload an image of your bike</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.row}>\r\n                    <div className={styles.icon}>\r\n                        <SquareFootIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n                    <div className={styles.text}>\r\n                        <p>2. Measure your bike to establish the scale</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.bigScreenReverseRow}>\r\n                    <div className={styles.icon}>\r\n                        <CreateIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n\r\n                    <div className={styles.text}>\r\n                        <p>3. Outline your desired shape</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.row}>\r\n                    <div className={styles.icon}>\r\n                        <AddShoppingCartIcon fontSize={'inherit'} color={'inherit'} />\r\n                    </div>\r\n                    <div className={styles.text}>\r\n                        <p>4. Submit your design and receive your custom bike frame bag</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button className='button' onClick={() => setActiveMainComponent('customSpec')}> create custom bag</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\n\r\nconst SvgToptube = props => (\r\n  <svg width={644.091} height={341.511} {...props} viewBox=\"0 0 644 342\">\r\n    <path\r\n      d=\"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <rect\r\n      width={52.764}\r\n      height={118.582}\r\n      x={369.241}\r\n      y={-221.188}\r\n      transform=\"matrix(.6959 .71813 -.67781 .73523 0 0)\"\r\n      ry={22.455}\r\n      opacity={0.97}\r\n      fill=\"#0000b2\"\r\n    />\r\n    <rect\r\n      width={52.764}\r\n      height={118.582}\r\n      x={194.913}\r\n      y={207.595}\r\n      transform=\"matrix(.98364 -.18014 .23523 .97194 0 0)\"\r\n      ry={18.571}\r\n      opacity={0.97}\r\n      fill=\"#0000b2\"\r\n    />\r\n    <path\r\n      d=\"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M216.762 72.737l15.127 58.618 247.08-27.733L520.254 59.5 508.28 15.38z\"\r\n      fill=\"#92ba40\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SvgToptube;\r\n","import React from \"react\";\r\n\r\nconst SvgFull = props => (\r\n  <svg width={644.091} height={341.511} {...props} viewBox=\"0 0 644 342\">\r\n    <path\r\n      d=\"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M216.577 72.183l48.308 193.333h63.381L520.7 60.837l-12.644-44.79z\"\r\n      fill=\"#92ba40\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SvgFull;\r\n","import React from \"react\";\r\n\r\nconst SvgFront = props => (\r\n  <svg width={644.091} height={341.511} {...props} viewBox=\"0 0 644 342\">\r\n    <path\r\n      d=\"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <rect\r\n      width={52.764}\r\n      height={118.582}\r\n      x={194.913}\r\n      y={207.595}\r\n      transform=\"matrix(.98364 -.18014 .23523 .97194 0 0)\"\r\n      ry={18.571}\r\n      opacity={0.97}\r\n      fill=\"#0000b2\"\r\n    />\r\n    <path\r\n      d=\"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44\"\r\n      fill=\"none\"\r\n      stroke=\"#e08900\"\r\n      strokeWidth={15}\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M269.523 62.098l51.275 211.962L479.415 104.96 520.7 60.837l-12.644-44.79z\"\r\n      fill=\"#92ba40\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default SvgFront;\r\n","import React, { useContext } from 'react';\r\nimport TopTube from '../assets/images/Toptube';\r\nimport Full from '../assets/images/Full';\r\nimport Front from '../assets/images/Front';\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport styles from '../styles/StyleSelection.module.css';\r\n\r\nconst StyleSelection = () => {\r\n    const { customSpecState, setCustomSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n\r\n    const handleClick = (style) => {\r\n        setCustomSpecState({ ...customSpecState, style: style })\r\n        setActiveCustomSpecPhase('image');\r\n    }\r\n\r\n    return (\r\n        <div className={styles.styleContainer}>\r\n            <div className={customSpecState.style === 'topTube' ? styles.styleItemActive : styles.styleItem}\r\n                onClick={() => handleClick('topTube')}>\r\n                <h4>Top Tube</h4>\r\n                <TopTube className={styles.bagIcon} />\r\n            </div>\r\n            <div className={customSpecState.style === 'front' ? styles.styleItemActive : styles.styleItem}\r\n                onClick={() => handleClick('front')}>\r\n                <h4>Front</h4>\r\n                <Front className={styles.bagIcon} />\r\n            </div>\r\n            <div className={customSpecState.style === 'full' ? styles.styleItemActive : styles.styleItem}\r\n                onClick={() => handleClick('full')}>\r\n                <h4>Full</h4>\r\n                <Full className={styles.bagIcon} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StyleSelection;","import React, { useRef, useContext, useEffect } from 'react';\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport styles from '../styles/ImageUpload.module.css';\r\n\r\nexport default function ImageUpload() {\r\n    const { customSpecUIState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n\r\n    switch (customSpecUIState.image) {\r\n        case 'active':\r\n            return <ImageUploadActive />\r\n        case 'minimized':\r\n            return (\r\n                <div className={styles.minimized} onClick={() => setActiveCustomSpecPhase('image')}>\r\n                    <h3>Image Upload</h3>\r\n                </div>\r\n            )\r\n        default: return null\r\n    }\r\n}\r\n\r\nconst ImageUploadActive = () => {\r\n    const { setCustomSpecState, customSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    let imageUploadActiveRef = useRef();\r\n    let fileInput = useRef();\r\n    let uploadCanvas = useRef();\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scroll({\r\n                top: imageUploadActiveRef.current.offsetTop,\r\n                behavior: \"smooth\",\r\n            });\r\n        }, 0);\r\n    }, [])\r\n\r\n    var img = new Image();\r\n\r\n    const onImageLoad = () => {\r\n        img.onload = () => {\r\n            console.log(img)\r\n            setCustomSpecState({ ...customSpecState, image: img, imageRaw: fileInput.current.files[0] })\r\n            setActiveCustomSpecPhase('scale');\r\n        };\r\n        img.onerror = imageLoadFailed;\r\n        img.src = URL.createObjectURL(fileInput.current.files[0]);\r\n    }\r\n\r\n    const imageLoadFailed = () => {\r\n        console.error(\"The provided file couldn't be loaded as an Image media\");\r\n    }\r\n    return (\r\n        <div className={styles.imageUpload} ref={imageUploadActiveRef}>\r\n            <h3>Image Upload</h3>\r\n            <label className={styles.button} htmlFor='file'><p>Upload Photo</p></label>\r\n            <input className={styles.fileInput} type='file' name='file' id='file' ref={fileInput} onChange={onImageLoad} />\r\n            <canvas className={styles.hidden}\r\n                ref={uploadCanvas}\r\n                width=''\r\n                height='' />\r\n        </div>\r\n    )\r\n}","export function debounce(fn, ms) {\r\n    let timer\r\n    return () => {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n            timer = null\r\n            fn.apply(this, arguments)\r\n        }, ms)\r\n    };\r\n}\r\n\r\nexport function drawPoints(canvasRef, points, displayScaleFactor) {\r\n    let ctx = canvasRef.current.getContext('2d');\r\n    ctx.strokeStyle = \"#FF0000\";\r\n    ctx.lineWidth = 3;\r\n    points.forEach(point => {\r\n        ctx.beginPath();\r\n        ctx.arc(point[0] * displayScaleFactor, point[1] * displayScaleFactor, 10, 0, 2 * Math.PI);\r\n        ctx.stroke();\r\n    })\r\n}\r\n\r\nexport function drawLines(canvasRef, points, displayScaleFactor) {\r\n    for (let i = 0; i < points.length - 1; i++) {\r\n        let ctx = canvasRef.current.getContext('2d');\r\n        ctx.strokeStyle = \"#FF0000\";\r\n        ctx.lineWidth = 3;\r\n        ctx.moveTo(points[i][0] * displayScaleFactor, points[i][1] * displayScaleFactor);\r\n        ctx.lineTo(points[i + 1][0] * displayScaleFactor, points[i + 1][1] * displayScaleFactor);\r\n        ctx.stroke();\r\n    }\r\n}\r\n","import { debounce } from '../actions';\r\nimport {useState, useEffect} from 'react'\r\n\r\nexport function useWindowWidth(debounceTimer) {\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth)\r\n    useEffect(() => {\r\n        window.addEventListener('resize', debounce(() => setWindowWidth(window.innerWidth), debounceTimer));\r\n        return () => {\r\n            window.removeEventListener('resize', debounce(() => setWindowWidth(window.innerWidth), debounceTimer))\r\n        };\r\n    }, [])\r\n\r\n    return [windowWidth];\r\n};","import React, { useRef, useContext, useEffect, useState } from 'react';\r\n//hooks\r\nimport { useWindowWidth } from '../customHooks/useWindowWidth'\r\n//context\r\nimport { CustomSpecContext } from '../customSpecContext';\r\n//actions\r\nimport { drawPoints, drawLines } from '../actions'\r\n//styles\r\nimport styles from '../styles/ScaleInput.module.css'\r\n\r\nexport default function ScaleInput() {\r\n    const { customSpecUIState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    switch (customSpecUIState.scale) {\r\n        case 'active':\r\n            return <ScaleInputActive />\r\n        case 'minimized':\r\n            return (\r\n                <div className={styles.minimized} onClick={() => setActiveCustomSpecPhase('scale')}>\r\n                    <h3>Scale</h3>\r\n                </div>\r\n            )\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n\r\nconst ScaleInputActive = () => {\r\n    const [windowWidth] = useWindowWidth(50)\r\n    const [topTubePoints, setTopTubePoints] = useState([]);\r\n    const [sourceDimensions, setSourceDimensions] = useState(null);\r\n    const { setCustomSpecState, customSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n    let canvasScaleRef = useRef();\r\n    let scaleInputRef = useRef();\r\n    let scaleInputDivRef = useRef();\r\n    let ctx;\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scroll({\r\n                top: scaleInputDivRef.current.offsetTop,\r\n                behavior: \"smooth\",\r\n            });\r\n        }, 0);\r\n    }, [])\r\n\r\n    //loads image onto canvas and calls drawTopTubePoints\r\n    const drawCanvas = () => {\r\n        if (!sourceDimensions) {\r\n            setSourceDimensions({ imageHeight: customSpecState.image.height, imageWidth: customSpecState.image.width });\r\n        }\r\n        //recalculates in case windown size changed\r\n        let displayScaleFactor = scaleInputDivRef.current.clientWidth / customSpecState.image.width;\r\n        canvasScaleRef.current.width = customSpecState.image.width * displayScaleFactor;\r\n        canvasScaleRef.current.height = customSpecState.image.height * displayScaleFactor;\r\n        ctx = canvasScaleRef.current.getContext('2d');\r\n        ctx.drawImage(customSpecState.image, 0, 0, canvasScaleRef.current.width, canvasScaleRef.current.height); //draws image on canvas\r\n        drawPoints(canvasScaleRef, topTubePoints, displayScaleFactor)\r\n        drawLines(canvasScaleRef, topTubePoints, displayScaleFactor)\r\n    }\r\n\r\n    //draws the image and points on the canvas when window width or points changes\r\n    useEffect(() => {\r\n        drawCanvas();\r\n    }, [windowWidth, topTubePoints])\r\n\r\n    //captures user click on the canvas and converts to pixel coordinates of original image\r\n    const canvasScaleClick = (evt) => {\r\n        let displayScaleFactor = scaleInputDivRef.current.clientWidth / sourceDimensions.imageWidth;\r\n        if (topTubePoints.length < 2) {\r\n            let rect = canvasScaleRef.current.getBoundingClientRect();\r\n            let x = (evt.clientX - rect.left);\r\n            let y = (evt.clientY - rect.top);\r\n            let xSourceCoord = x / displayScaleFactor;\r\n            let ySourceCoord = y / displayScaleFactor;\r\n            if (topTubePoints.length === 1) {\r\n                setTopTubePoints([topTubePoints[0], [xSourceCoord, ySourceCoord]]);\r\n            } else {\r\n                setTopTubePoints([[xSourceCoord, ySourceCoord]]);\r\n            }\r\n        }\r\n    }\r\n\r\n    //establishes a ratio of source image pixels to inches\r\n    const setPixelToInchScale = (event) => {\r\n        event.preventDefault();\r\n        if (topTubePoints.length === 2) {\r\n            let distance = Math.hypot(topTubePoints[0][0] - topTubePoints[1][0], topTubePoints[0][1] - topTubePoints[1][1])\r\n            let scale = (distance / scaleInputRef.value);\r\n            setCustomSpecState({ ...customSpecState, scale: scale })\r\n            setActiveCustomSpecPhase('shape');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.scaleInput} ref={scaleInputDivRef} style={{ minHeight: '50vh' }}>\r\n            <h3>Scale</h3>\r\n            <form onSubmit={(event) => setPixelToInchScale(event)} className={styles.scaleInputForm}>\r\n                <input ref={(input) => { scaleInputRef = input }} placeholder='Top Tube Length in inches' type='number' />\r\n                <button className={styles.button} type='submit'>Submit</button>\r\n                <button className={styles.button} onClick={() => setTopTubePoints([])}>Reset</button>\r\n            </form>\r\n            <canvas ref={canvasScaleRef} width='0' height='0' onClick={canvasScaleClick} />\r\n        </div>\r\n    )\r\n}","/* eslint-disable */\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-west-2\",\n    \"aws_cognito_identity_pool_id\": \"us-west-2:2e9df26a-d6c8-42fc-a831-7b5147f61f03\",\n    \"aws_cognito_region\": \"us-west-2\",\n    \"aws_user_pools_id\": \"us-west-2_r9UEzv4CF\",\n    \"aws_user_pools_web_client_id\": \"53m4886fjnpcrgmeherl87h1s7\",\n    \"oauth\": {\n        \"domain\": \"bikebagproject2a90f4437-a90f4437-dev.auth.us-west-2.amazoncognito.com\",\n        \"scope\": [\n            \"phone\",\n            \"email\",\n            \"openid\",\n            \"profile\",\n            \"aws.cognito.signin.user.admin\"\n        ],\n        \"redirectSignIn\": \"https://ethanse.github.io/bikeBagProject2/,https://ethanse.github.io/bikeBagProject2/\",\n        \"redirectSignOut\": \"https://ethanse.github.io/bikeBagProject2/\",\n        \"responseType\": \"code\"\n    },\n    \"federationTarget\": \"COGNITO_USER_POOLS\",\n    \"aws_appsync_graphqlEndpoint\": \"https://yehmb4zegba2hieeir45ha6oze.appsync-api.us-west-2.amazonaws.com/graphql\",\n    \"aws_appsync_region\": \"us-west-2\",\n    \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\n    \"aws_user_files_s3_bucket\": \"bikebagimagebucket11541-dev\",\n    \"aws_user_files_s3_bucket_region\": \"us-west-2\"\n};\n\n\nexport default awsmobile;\n","import React, { useRef, useContext, useEffect, useState } from 'react';\r\n//hooks\r\nimport { useWindowWidth } from '../customHooks/useWindowWidth'\r\nimport styles from '../styles/ShapeInput.module.css'\r\n//context\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport { ModeContext } from '../modeContext';\r\nimport { UserContext } from '../userContext';\r\n//actions\r\nimport { drawPoints, drawLines } from '../actions'\r\n//graphql\r\nimport { API, graphqlOperation, Storage } from \"aws-amplify\";\r\nimport { createCustomDesign } from '../graphql/mutations'\r\n//uuid\r\nimport { v4 as uuid } from 'uuid';\r\nimport config from '../aws-exports'\r\n\r\nconst {\r\n    aws_user_files_s3_bucket_region: region,\r\n    aws_user_files_s3_bucket: bucket\r\n} = config\r\n\r\nexport default function ShapeInput() {\r\n    const { customSpecUIState, setActiveCustomSpecPhase } = useContext(CustomSpecContext)\r\n\r\n    switch (customSpecUIState.shape) {\r\n        case 'active':\r\n            return <ShapeInputActive />\r\n        case 'minimized':\r\n            return (\r\n                <div className={styles.minimized} onClick={() => setActiveCustomSpecPhase('shape')}>\r\n                    <h3>Shape</h3>\r\n                </div>\r\n            )\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n\r\nconst ShapeInputActive = () => {\r\n    const { setActiveMainComponent } = useContext(ModeContext)\r\n    const [windowWidth] = useWindowWidth(50)\r\n    const { customSpecState, setCustomSpecState, setActiveCustomSpecPhase } = useContext(CustomSpecContext);\r\n    const [points, setPoints] = useState([]);\r\n    const [sourceDimensions, setSourceDimensions] = useState(null);\r\n    const { user } = useContext(UserContext);\r\n    let canvasShapeRef = useRef();\r\n    let shapeInputDivRef = useRef();\r\n    let displayScaleFactor;\r\n\r\n    //draws the image and points on the canvas when window width or points changes\r\n    useEffect(() => {\r\n        drawCanvas();\r\n    }, [windowWidth, points])\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            window.scroll({\r\n                top: shapeInputDivRef.current.offsetTop,\r\n                behavior: \"smooth\",\r\n            });\r\n        }, 0);\r\n    }, [])\r\n\r\n    const drawCanvas = () => {\r\n        //saves image source dimensions on first load\r\n        if (!sourceDimensions) {\r\n            setSourceDimensions({ imageHeight: customSpecState.image.height, imageWidth: customSpecState.image.width });\r\n        }\r\n        canvasShapeRef.current.width = shapeInputDivRef.current.clientWidth; //set width of canvas to be equal to its parent div\r\n        displayScaleFactor = canvasShapeRef.current.width / customSpecState.image.width;\r\n        canvasShapeRef.current.height = displayScaleFactor * customSpecState.image.height; //set height based on width and image ratio\r\n        let ctx = canvasShapeRef.current.getContext('2d');\r\n        ctx.drawImage(customSpecState.image, 0, 0, canvasShapeRef.current.width, canvasShapeRef.current.height); //draws image on canvas\r\n        drawPoints(canvasShapeRef, points, displayScaleFactor);\r\n        drawLines(canvasShapeRef, points, displayScaleFactor);\r\n    }\r\n\r\n    //allows users to submit\r\n    const shapeInputSubmit = async () => {\r\n        //do some kind of checking(?)\r\n        //is shape closed?\r\n        //number of points(?)\r\n        // setCustomSpecState({\r\n        //     ...customSpecState,\r\n        //     shape: points\r\n        // })\r\n        await uploadDesign({\r\n            ...customSpecState,\r\n            shape: points\r\n        });\r\n        setActiveCustomSpecPhase('clear');\r\n        setActiveMainComponent('account')\r\n    }\r\n\r\n    // allows user to select points\r\n    const canvasShapeClick = (evt) => {\r\n        //get display coordinate of click\r\n        let rect = canvasShapeRef.current.getBoundingClientRect();\r\n        let x = (evt.clientX - rect.left);\r\n        let y = (evt.clientY - rect.top);\r\n        //transform to source coordinate\r\n        let xSourceCoord = x * sourceDimensions.imageWidth / canvasShapeRef.current.width;\r\n        let ySourceCoord = y * sourceDimensions.imageHeight / canvasShapeRef.current.height;\r\n\r\n        //--abstract away with hook(?)\r\n        //check through existing points to see if click is on a previously selected point \r\n        //(ie. when closing the shape)\r\n        for (let i = 0; i < points.length; i++) {\r\n            let distance = Math.hypot(points[i][0] * displayScaleFactor - xSourceCoord * displayScaleFactor, points[i][1] * displayScaleFactor - ySourceCoord * displayScaleFactor);\r\n            if (distance < 10) {        //i.e. if click is within drawn circle\r\n                setPoints([...points, [points[i][0], points[i][1]]]); //add that same point to the array\r\n                return;\r\n            };\r\n        }\r\n        setPoints([...points, [xSourceCoord, ySourceCoord]]);\r\n    }\r\n\r\n    const uploadDesign = async (design) => {\r\n\r\n        //upload image\r\n        Storage.put(`${uuid()}`, customSpecState.imageRaw, {\r\n            contentType: 'image/png'\r\n        })\r\n            .then((result) => {\r\n                console.log('successfully saved file!', result)\r\n                createCustomBag(result)\r\n            })\r\n            .catch(err => console.log('issue with image upload!', err))\r\n        // const newBag = {\r\n\r\n        const createCustomBag = async (result) => {\r\n            const newBag = {\r\n                id: `${uuid()}`,\r\n                owner: user.attributes.sub,\r\n                image: {\r\n                    bucket: bucket,\r\n                    region: region,\r\n                    key: result.key,\r\n                },\r\n                scale: customSpecState.scale,\r\n                points: design.shape.toString(),\r\n            }\r\n\r\n            console.log('newBag', newBag)\r\n            const newExperienceResult = await API.graphql(graphqlOperation(createCustomDesign, { input: newBag }));\r\n            console.log(newExperienceResult)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.shapeInput} ref={shapeInputDivRef} style={{ minHeight: '50vh' }}>\r\n            <h3>Shape</h3>\r\n            <div className={styles.buttonRow}>\r\n                <button className={styles.button} onClick={shapeInputSubmit}>Submit Design</button>\r\n                <button className={styles.button} onClick={() => setPoints([])}>Reset Shape</button>\r\n            </div>\r\n            <canvas ref={canvasShapeRef} width='0' height='0' onClick={canvasShapeClick} />\r\n        </div>\r\n    )\r\n}","/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const createCustomDesign = /* GraphQL */ `\n  mutation CreateCustomDesign(\n    $input: CreateCustomDesignInput!\n    $condition: ModelCustomDesignConditionInput\n  ) {\n    createCustomDesign(input: $input, condition: $condition) {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const updateCustomDesign = /* GraphQL */ `\n  mutation UpdateCustomDesign(\n    $input: UpdateCustomDesignInput!\n    $condition: ModelCustomDesignConditionInput\n  ) {\n    updateCustomDesign(input: $input, condition: $condition) {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const deleteCustomDesign = /* GraphQL */ `\n  mutation DeleteCustomDesign(\n    $input: DeleteCustomDesignInput!\n    $condition: ModelCustomDesignConditionInput\n  ) {\n    deleteCustomDesign(input: $input, condition: $condition) {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points\n      createdAt\n      updatedAt\n    }\n  }\n`;\n","import React, { useContext } from 'react';\r\n//components\r\nimport StyleSelection from './StyleSelection';\r\nimport ImageUpload from './ImageUpload';\r\nimport ScaleInput from './ScaleInput';\r\nimport ShapeInput from './ShapeInput';\r\n//context\r\nimport { UserContext } from '../userContext';\r\n//styles\r\nimport styles from '../styles/CustomSpec.module.css';\r\n\r\nimport { Auth } from 'aws-amplify';\r\n\r\nexport default function CustomSpecification() {\r\n    const { user } = useContext(UserContext)\r\n\r\n    if (!user) return <SignInPrompt />\r\n    \r\n    return (\r\n        <div className={styles.customSpecContainer}>\r\n            <div className={styles.customSpecContents} >\r\n                <StyleSelection />\r\n                <ImageUpload />\r\n                <ScaleInput />\r\n                <ShapeInput />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst SignInPrompt = () => {\r\n    return (\r\n        <div className={styles.customSpecContainer}>\r\n            <div className={styles.customSpecContents} >\r\n                <h1>Sign in to create a custom bag</h1>\r\n                <button className={styles.signInButton} onClick={() => Auth.federatedSignIn()}> Sign In </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useContext, useState } from 'react';\r\n//graphql\r\nimport { API, graphqlOperation, Storage } from \"aws-amplify\";\r\nimport { listCustomDesigns } from '../graphql/queries'\r\nimport { UserContext } from '../userContext';\r\n\r\nexport default function Account() {\r\n    const { user } = useContext(UserContext)\r\n    const [designs, setDesigns] = useState([])\r\n\r\n    useEffect(() => {\r\n        fetchDesigns();\r\n    }, [])\r\n\r\n    const fetchDesigns = async () => {\r\n        console.log(user)\r\n        let result = await API.graphql(graphqlOperation(listCustomDesigns, {\r\n            filter: {\r\n                owner: {\r\n                    eq: user.attributes.sub\r\n                }\r\n            }\r\n        }));\r\n        console.log(result)\r\n        setDesigns(result.data.listCustomDesigns.items)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Your saved designs</h1>\r\n            <DesignList designs={designs} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DesignList = (props) => {\r\n    const listItems = props.designs.map((design) =>\r\n        <li><DesignItem design={design} key={design.id} /></li>\r\n    );\r\n\r\n    return (\r\n        <ul>{listItems}</ul>\r\n    )\r\n}\r\n\r\nconst DesignItem = (props) => {\r\n    const [imageUrl, setImageUrl] = useState()\r\n    useEffect(() => {\r\n        Storage.get(props.design.image.key)\r\n            .then((url) => setImageUrl(url))\r\n            .catch((err) => console.log('error fetching image', err))\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <p>this is a design. id = ${props.design.id}</p>\r\n            <img src={imageUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n//view your saved designs\r\n//click to *order* changes to in progress\r\n//download svg for each design\r\n//ability to delete each design\r\n//logout","/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const getCustomDesign = /* GraphQL */ `\n  query GetCustomDesign($id: ID!) {\n    getCustomDesign(id: $id) {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points\n      createdAt\n      updatedAt\n    }\n  }\n`;\nexport const listCustomDesigns = /* GraphQL */ `\n  query ListCustomDesigns(\n    $filter: ModelCustomDesignFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listCustomDesigns(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        owner\n        image {\n          bucket\n          region\n          key\n        }\n        scale\n        points\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n`;\n","import React, { useState, useEffect, useContext } from 'react';\r\n//hooks\r\nimport { useUIStateManager } from '../customHooks/useUIStateManager'\r\n//context\r\nimport { ModeContext } from '../modeContext';\r\nimport { CustomSpecContext } from '../customSpecContext';\r\nimport { UserContext } from '../userContext';\r\n//components\r\nimport Header from './Header';\r\nimport Home from './Home';\r\nimport CustomSpecification from './CustomSpecification';\r\nimport Account from './Account';\r\n//aws\r\nimport Amplify from 'aws-amplify';\r\nimport config from '../aws-exports';\r\nimport { Auth, Hub } from 'aws-amplify';\r\n\r\n\r\nAmplify.configure(config)\r\n\r\nexport default function App() {\r\n  const [user, setUser] = useState(null)\r\n\r\n  //set up mode context\r\n  const [activeMainComponent, setActiveMainComponent] = useState('home');\r\n\r\n  //set up customSpecContext\r\n  const [customSpecState, setCustomSpecState] = useState({\r\n    style: '',\r\n    image: null,\r\n    scale: null,\r\n    shape: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    Hub.listen(\"auth\", ({ payload: { event, data } }) => {\r\n      if (event === \"signOut\") {\r\n        setUser(null);\r\n        setActiveMainComponent('home')\r\n      } else if (event === 'signIn') {\r\n        Auth.currentAuthenticatedUser().then(u => setUser(u))\r\n      }\r\n    });\r\n  });\r\n\r\n  const [customSpecUIState, setActiveCustomSpecPhase] = useUIStateManager();\r\n  const custom = { customSpecState, setCustomSpecState, customSpecUIState, setActiveCustomSpecPhase };\r\n\r\n  return (\r\n    <UserContext.Provider value={{ user, setUser }}>\r\n      <ModeContext.Provider value={{ activeMainComponent, setActiveMainComponent }}>\r\n        <CustomSpecContext.Provider value={custom}>\r\n          <Header />\r\n          <MainComponent />\r\n        </CustomSpecContext.Provider>\r\n      </ModeContext.Provider>\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nconst MainComponent = () => {\r\n  const { activeMainComponent } = useContext(ModeContext)\r\n\r\n  switch (activeMainComponent) {\r\n    case 'home':\r\n      return (<Home />)\r\n    case 'customSpec':\r\n      return <CustomSpecification />\r\n    case 'account':\r\n      return <Account />\r\n    default:\r\n      console.log('default')\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nconst render = () => {\r\n    ReactDOM.render(\r\n        <App />\r\n        , document.getElementById('root')\r\n    );\r\n};\r\n\r\nrender(App);"],"sourceRoot":""}