(this["webpackJsonpcanvas-test"]=this["webpackJsonpcanvas-test"]||[]).push([[0],[,,,function(e,t,n){e.exports={bagIcon:"StyleSelection_bagIcon__gjqEV",styleContainer:"StyleSelection_styleContainer__2rKvy",styleItem:"StyleSelection_styleItem__HH9RA",styleItemActive:"StyleSelection_styleItemActive__3VPpx"}},,function(e,t,n){e.exports={imageUpload:"ImageUpload_imageUpload__2kyVe",button:"ImageUpload_button__2ZvqF",fileInput:"ImageUpload_fileInput__32kdw",hidden:"ImageUpload_hidden__3cEGb",minimized:"ImageUpload_minimized__1kd-9"}},function(e,t,n){e.exports={scaleInputForm:"ScaleInput_scaleInputForm__3GYfS",scaleInput:"ScaleInput_scaleInput__3lksu",button:"ScaleInput_button__26wym",minimized:"ScaleInput_minimized__1IaZN"}},function(e,t,n){e.exports={shapeInput:"ShapeInput_shapeInput__34sbM",buttonRow:"ShapeInput_buttonRow__1DTqS",button:"ShapeInput_button__vHN-I"}},function(e,t,n){e.exports={header:"Header_header__3diqq",links:"Header_links__KrrUu"}},,,,function(e,t,n){e.exports={customSpec:"CustomSpec_customSpec__3zSeu"}},function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),l=n(1),o=n(2),u=Object(a.createContext)("home"),s=n(8),m=n.n(s),d=function(){var e=Object(a.useContext)(u).setActiveMainComponent,t=c.a.createElement("h3",{onClick:function(){return console.log()}}," Sign In ");return c.a.createElement("div",{className:m.a.header},c.a.createElement("h1",{style:m.a.headerTitle},"Bike Frame Bag Designer"),c.a.createElement("div",{className:m.a.links},t,c.a.createElement("h3",{onClick:function(){return e("customSpec")}}," Custom "),c.a.createElement("h3",{onClick:function(){return e("home")}}," Home ")))},h=function(){var e=Object(a.useContext)(u).setActiveMainComponent;return c.a.createElement("div",{className:"home"},c.a.createElement("h1",null,"How it works"),c.a.createElement("button",{className:"button",onClick:function(){return e("customSpec")}}," create custom bag"),c.a.createElement("div",{className:"image1"}),c.a.createElement("div",{className:"image2"}),c.a.createElement("div",{className:"image3"}),c.a.createElement("div",{className:"text text1"},c.a.createElement("h3",null,"Step 1"),c.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Reiciendis sequi optio asperiores sint aliquid in rem iure suscipit! Odit eum hic incidunt. Quidem corrupti expedita, officia doloremque praesentium maiores minima.")),c.a.createElement("div",{className:"text text2"},c.a.createElement("h3",null,"Step 2"),c.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nobis cumque repellendus quidem? Facere, commodi unde beatae numquam, animi ratione consequuntur doloremque quia labore voluptates eius impedit officiis exercitationem doloribus sint?")),c.a.createElement("div",{className:"text text3"},c.a.createElement("h3",null,"Step 3"),c.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nobis cumque repellendus quidem? Facere, commodi unde beatae numquam, animi ratione consequuntur doloremque quia labore voluptates eius impedit officiis exercitationem doloribus sint?")))};var p=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),i=Object(a.useRef)(),r=c.a.useState("signIn"),o=Object(l.a)(r,2),u=o[0],s=o[1],m="signIn"===u?c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(),n.value="",t.value=""}(e)},className:"signInForm"},c.a.createElement("input",{ref:function(e){t=e},placeholder:"Email",type:"text"}),c.a.createElement("input",{ref:function(e){n=e},placeholder:"password",type:"password"}),c.a.createElement("button",{className:"button accountButton",type:"submit"},"Sign In"),c.a.createElement("button",{className:"button accountButton",onClick:function(){return s("createAccount")}},"Create Accout")):c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),n.value===i.value?console.log():console.log("no")}(e)},className:"accountInputForm"},c.a.createElement("input",{ref:function(e){t=e},placeholder:"Email",type:"text"}),c.a.createElement("input",{ref:function(e){n=e},placeholder:"password",type:"password"}),c.a.createElement("input",{ref:function(e){i=e},placeholder:"re-enter password",type:"password"}),c.a.createElement("button",{className:"button accountButton",type:"submit"},"Create Account"),c.a.createElement("button",{className:"button accountButton",onClick:function(){return s("signIn")}},"Already have an account? -  Sign In"));return"account"===e.activeMainComponent&&e.user||e.user||"account"!==e.activeMainComponent&&"active"!==e.customSpecUI.signIn?null:c.a.createElement("div",{className:"account"},m)},f=function(e){return c.a.createElement("svg",Object.assign({width:644.091,height:341.511},e,{viewBox:"0 0 644 342"}),c.a.createElement("path",{d:"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("rect",{width:52.764,height:118.582,x:369.241,y:-221.188,transform:"matrix(.6959 .71813 -.67781 .73523 0 0)",ry:22.455,opacity:.97,fill:"#0000b2"}),c.a.createElement("rect",{width:52.764,height:118.582,x:194.913,y:207.595,transform:"matrix(.98364 -.18014 .23523 .97194 0 0)",ry:18.571,opacity:.97,fill:"#0000b2"}),c.a.createElement("path",{d:"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M216.762 72.737l15.127 58.618 247.08-27.733L520.254 59.5 508.28 15.38z",fill:"#92ba40"}))},b=function(e){return c.a.createElement("svg",Object.assign({width:644.091,height:341.511},e,{viewBox:"0 0 644 342"}),c.a.createElement("path",{d:"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M216.577 72.183l48.308 193.333h63.381L520.7 60.837l-12.644-44.79z",fill:"#92ba40"}))},g=function(e){return c.a.createElement("svg",Object.assign({width:644.091,height:341.511},e,{viewBox:"0 0 644 342"}),c.a.createElement("path",{d:"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("rect",{width:52.764,height:118.582,x:194.913,y:207.595,transform:"matrix(.98364 -.18014 .23523 .97194 0 0)",ry:18.571,opacity:.97,fill:"#0000b2"}),c.a.createElement("path",{d:"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M269.523 62.098l51.275 211.962L479.415 104.96 520.7 60.837l-12.644-44.79z",fill:"#92ba40"}))},E=Object(a.createContext)(null),v=n(3),S=n.n(v),w=function(){var e=Object(a.useContext)(E),t=e.customSpecState,n=e.setCustomSpecState,i=e.dispatch,r=function(e){n(Object(o.a)({},t,{style:e})),i("image")};return c.a.createElement("div",{className:S.a.styleContainer},c.a.createElement("div",{className:"topTube"===t.style?S.a.styleItemActive:S.a.styleItem,onClick:function(){return r("topTube")}},c.a.createElement("h4",null,"Top Tube"),c.a.createElement(f,{className:S.a.bagIcon})),c.a.createElement("div",{className:"front"===t.style?S.a.styleItemActive:S.a.styleItem,onClick:function(){return r("front")}},c.a.createElement("h4",null,"Front"),c.a.createElement(g,{className:S.a.bagIcon})),c.a.createElement("div",{className:"full"===t.style?S.a.styleItemActive:S.a.styleItem,onClick:function(){return r("full")}},c.a.createElement("h4",null,"Full"),c.a.createElement(b,{className:S.a.bagIcon})))},I=n(5),j=n.n(I),O=function(){var e=Object(a.useContext)(E),t=e.customSpecUIState,n=e.setCustomSpecState,i=e.customSpecState,r=e.dispatch,l=Object(a.useRef)(),u=Object(a.useRef)(),s=new Image,m=function(){var e=u.current.getContext("2d");u.current.width=s.width,u.current.height=s.height,e.drawImage(s,0,0);var t=u.current.toDataURL("image/png");n(Object(o.a)({},i,{image:t})),r("scale")},d=function(){console.error("The provided file couldn't be loaded as an Image media")};switch(t.image){case"active":return c.a.createElement("div",{className:j.a.imageUpload},c.a.createElement("h3",null,"Image Upload"),c.a.createElement("label",{className:j.a.button,htmlFor:"file"},c.a.createElement("p",null,"Upload Photo")),c.a.createElement("input",{className:j.a.fileInput,type:"file",name:"file",id:"file",ref:l,onChange:function(){s.onload=m,s.onerror=d,s.src=URL.createObjectURL(l.current.files[0])}}),c.a.createElement("canvas",{className:j.a.hidden,ref:u,width:"",height:""}));case"minimized":return c.a.createElement("div",{className:j.a.minimized,onClick:function(){return r("image")}},c.a.createElement("h3",null,"Image Upload"));default:return null}};function k(e,t){var n,a=arguments,c=this;return function(){clearTimeout(n),n=setTimeout((function(){n=null,e.apply(c,a)}),t)}}var _=n(6),C=n.n(_),y=function(){var e=Object(a.useContext)(E),t=e.customSpecUIState,n=e.dispatch;switch(t.scale){case"active":return c.a.createElement(x,null);case"minimized":return c.a.createElement("div",{className:C.a.minimized,onClick:function(){return n("scale")}},c.a.createElement("h3",null,"Scale"));default:return null}},x=function(){var e,t=Object(a.useState)(window.innerWidth),n=Object(l.a)(t,2),i=n[0],r=n[1],u=Object(a.useState)([]),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(a.useState)(null),p=Object(l.a)(h,2),f=p[0],b=p[1],g=Object(a.useContext)(E),v=g.setCustomSpecState,S=g.customSpecState,w=g.dispatch,I=Object(a.useRef)(),j=Object(a.useRef)(),O=Object(a.useRef)(),_=k((function(){return r(window.innerWidth)}),50);Object(a.useEffect)((function(){return window.addEventListener("resize",_),function(){window.removeEventListener("resize",_)}}),[]);Object(a.useEffect)((function(){!function(){var t=new Image;t.onload=function(){f||b({imageHeight:t.height,imageWidth:t.width});var n=O.current.clientWidth/t.width;I.current.width=t.width*n,I.current.height=t.height*n,(e=I.current.getContext("2d")).drawImage(t,0,0,I.current.width,I.current.height),y()},t.src=S.image}()}),[i,m]);var y=function(){m.forEach((function(e){x(e[0]*(I.current.width/f.imageWidth),e[1]*(I.current.height/f.imageHeight))}))},x=function(t,n){(e=I.current.getContext("2d")).strokeStyle="#FF0000",e.lineWidth=3,e.beginPath(),e.arc(t,n,10,0,2*Math.PI),e.stroke()};return c.a.createElement("div",{className:C.a.scaleInput,ref:O},c.a.createElement("h3",null,"Scale"),c.a.createElement("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),2===m.length){var t=Math.hypot(m[0][0]-m[1][0],m[0][1]-m[1][1])/j.value;v(Object(o.a)({},S,{scale:t})),w("shape")}}(e)},className:C.a.scaleInputForm},c.a.createElement("input",{ref:function(e){j=e},placeholder:"Top Tube Length in inches",type:"number"}),c.a.createElement("button",{className:C.a.button,type:"submit"},"Submit"),c.a.createElement("button",{className:C.a.button,onClick:function(){return d([])}},"Reset")),c.a.createElement("canvas",{ref:I,width:"0",height:"0",onClick:function(e){var t=O.current.clientWidth/f.imageWidth;if(m.length<2){var n=I.current.getBoundingClientRect(),a=(e.clientX-n.left)/t,c=(e.clientY-n.top)/t;1===m.length?d([m[0],[a,c]]):d([[a,c]])}}}))},N=n(4),L=n(7),z=n.n(L),M=function(){var e=Object(a.useContext)(E),t=e.customSpecUIState,n=e.dispatch;switch(t.shape){case"active":return c.a.createElement(R,null);case"minimized":return c.a.createElement("div",{className:z.a.shapeInput,onClick:function(){return n("shape")}},c.a.createElement("h3",null,"Shape"));default:return null}},R=function(){var e,t=Object(a.useContext)(E),n=t.customSpecState,i=t.setCustomSpecState,r=t.dispatch,u=Object(a.useState)([]),s=Object(l.a)(u,2),m=s[0],d=s[1],h=Object(a.useState)(null),p=Object(l.a)(h,2),f=p[0],b=p[1],g=Object(a.useState)(),v=Object(l.a)(g,2),S=v[0],w=v[1],I=Object(a.useRef)(),j=Object(a.useRef)();Object(a.useEffect)((function(){return window.addEventListener("resize",O),function(){window.removeEventListener("resize",O)}}),[]);var O=k((function(){return w(window.innerWidth)}),50);Object(a.useEffect)((function(){_()}),[S,m]);var _=function(){var t=new Image;t.onload=function(){f||b({imageHeight:t.height,imageWidth:t.width}),I.current.width=j.current.clientWidth,e=I.current.width/t.width,I.current.height=e*t.height,I.current.getContext("2d").drawImage(t,0,0,I.current.width,I.current.height),C(),x()},t.src=n.image},C=function(){m.forEach((function(t){y(t[0]*e,t[1]*e)}))},y=function(e,t){var n=I.current.getContext("2d");n.strokeStyle="#FF0000",n.lineWidth=3,n.beginPath(),n.arc(e,t,10,0,2*Math.PI),n.stroke()},x=function(){for(var t=0;t<m.length-1;t++){var n=I.current.getContext("2d");n.strokeStyle="#FF0000",n.lineWidth=3,n.moveTo(m[t][0]*e,m[t][1]*e),n.lineTo(m[t+1][0]*e,m[t+1][1]*e),n.stroke()}};return c.a.createElement("div",{className:z.a.shapeInput,ref:j},c.a.createElement("h3",null,"Shape"),c.a.createElement("div",{className:z.a.buttonRow},c.a.createElement("button",{className:z.a.button,onClick:function(){i(Object(o.a)({},n,{shape:m})),r("confirmation")}},"Submit Shape"),c.a.createElement("button",{className:z.a.button,onClick:function(){d([])}},"Reset Shape")),c.a.createElement("canvas",{ref:I,width:"0",height:"0",onClick:function(t){for(var n=I.current.getBoundingClientRect(),a=t.clientX-n.left,c=t.clientY-n.top,i=a*f.imageWidth/I.current.width,r=c*f.imageHeight/I.current.height,l=0;l<m.length;l++){if(Math.hypot(m[l][0]*e-i*e,m[l][1]*e-r*e)<10)return void d([].concat(Object(N.a)(m),[[m[l][0],m[l][1]]]))}d([].concat(Object(N.a)(m),[[i,r]]))}}))};n(11);var q=n(12),U=n.n(q),W=function(){return c.a.createElement("div",{className:U.a.customSpec},c.a.createElement(w,null),c.a.createElement(O,null),c.a.createElement(y,null),c.a.createElement(M,null))},F={image:null,scale:null,shape:null,download:null},A={style:"",image:null,scale:null,shape:null},T=function(e,t){switch(t){case"image":return Object(o.a)({},e,{image:"active",scale:null===e.scale?null:"minimized",shape:null===e.shape?null:"minimized",confirmation:null==e.confirmation?null:"minimized"});case"scale":return Object(o.a)({},e,{scale:"active",image:"minimized",shape:null==e.shape?null:"minimized",confirmation:null==e.confirmation?null:"minimized"});case"shape":return Object(o.a)({},e,{shape:"active",image:"minimized",scale:"minimized",confirmation:null==e.confirmation?null:"minimized"});case"confirmation":return Object(o.a)({},e,{shape:"minimized",scale:"minimized",image:"minimized"});default:throw new Error}},B=function(){var e=Object(a.useState)("home"),t=Object(l.a)(e,2),n={activeMainComponent:t[0],setActiveMainComponent:t[1]},i=Object(a.useState)(A),r=Object(l.a)(i,2),o=r[0],s=r[1],m=Object(a.useReducer)(T,F),f=Object(l.a)(m,2),b=f[0],g=f[1],v={customSpecState:o,setCustomSpecState:s,customSpecUIState:b,dispatch:g};Object(a.useEffect)((function(){console.log(o)}),[o]);return c.a.createElement(u.Provider,{value:n},c.a.createElement(E.Provider,{value:v},c.a.createElement(d,null),function(){switch(n.activeMainComponent){case"home":return c.a.createElement(h,null);case"customSpec":return c.a.createElement(W,null);case"account":return c.a.createElement(p,null);default:console.log("default")}}()))};n(18);r.a.render(c.a.createElement(B,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.9527faaf.chunk.js.map