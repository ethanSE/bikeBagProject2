Feature: Custom Order
    As a user
    I want to be able to specify the style, scale, and shape of the custom bag I will be ordering 

Background:
    Given a user wants to order a custom bag
    And the user has navigated to the 'custom' page

style

Scenario: A user is prompted to select a style 
    Given a user has not yet selected a style
    Then the user is prompted via text to select a style
    And the available styles are displayed

Scenario: A user selects a style
    Given the user has not yet selected a style
    When a user clicks on a style button
    Then the style is selected
    And the selected option is highlighted to indicate that it is selected
    And the message text is updated to prompt the user to upload a photo of the bike they wish to design a bag for

Scenario: A user can change styles
    Given a user has already selected a style
    When a user clicks on a different style
    Then the new style is selected
    And new style is higlighted to indicate it is active

Image upload

Scenario: A user uploads a photo of their bike
    Given a user has selected a style
    When a user uploads an image
    Then the image upload component is 'minimized' vertically and color is less prominent
    And the scale input component appears
    And the uploaded image is rendered to the scale input component

Scenario: A user has uploaded a photo and wishes to upload a different photo
    Given the user has uploaded a photo
    When the user clicks on the minimized upload component
    Then the current active component becomes minimized
    And the upload photo component is made active again to allow the user to upload a different photo

scale

Scenario: A user successfully specifies the scale of canvas coordinates to inches
    Given the user has selected a style and uploaded a photo
    When the user enters the length of the top tube and selects the endpoints of the top tube and click the submit button
    Then the component is minimized vertically and is less visually prominent
    And the shape input component appears

Scenario: A user is specifying the endpoints of the sop tube but makes a miss-clicks and resets the points
    Given the user has made a miss-click when specifying the endpoints of the top tube
    When the user hits the 'reset' button
    Then the image is cleared of points
    And the user can select the points again

Scenario: A user has hit the submit button on the scale input prematurely
    Given the length or endpoints have not yet been input
    When the submit button is clicked
    Then nothing happens
    And the user is free to continue inputting length and endpoints

shape

Scenario: A user can specify the desired shape
    Given the style, image, and scale have been established
    When the user clicks on the image
    Then a point will appear 
    And a line will be drawn from the last point to the current point

Scenario: A user can reset the shape specification
    Given the user is specifying the shape
    When the user hits the reset button
    Then the existing points are removed
    And the user can specify the shape again

Scenario: A user clicks near the first point and the shape completes
    Given the user has clicked the image multiple points
    When the user makes the last click to close the shape and the click is close to the first click
    Then the location of the last click is interpreted as being the same location as the first click
    And the last line is drawn to close the shape

Scenario: The user can submit the design
    Given the user has specified the style, scale, and shape of the bag
    When the user clicks submit on the shape input
    Then the user is prompted to sign in or register
    On successful login the user can click submit to send the design off